<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title data-ar="إدارة الصلاحيات" data-en="Permission Management">Permission Management</title>
  <link rel="stylesheet" href="permissions.css" />
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>
</head>
<body class="lang-ar">
  <!-- Back -->
  <div class="back-button">
    <a href="#" onclick="goBack()">
      <img src="/icon/Back.png" alt="Back Icon" class="back-icon" />
      <span data-ar="عودة" data-en="Back">عودة</span>
    </a>
  </div>

  <!-- Header -->
  <header class="header">
    <div class="header-content">
      <div class="header-title" data-ar="عُــــــونَك" data-en="AOUNAK">عُــــــونَك</div>
      <img src="/icon/hospital-logo.png" alt="شعار المستشفى" class="header-logo">
      <button id="langToggle" class="lang-toggle-btn">
        <img src="/icon/lang.png" alt="language" class="lang-icon" />
        <span id="langText">العربية | English</span>
      </button>
    </div>
  </header>

  <!-- Main -->
  <div class="container">
    <div class="page-head">
      <h1 class="title" data-ar="إدارة الصلاحيات" data-en="Permission Management">Permission Management</h1>
    </div>

    <!-- Roles table (modern) -->
    <table class="permissions-table">
      <thead>
        <tr>
          <th data-ar="الدور" data-en="Role">Role</th>
          <th data-ar="الوصف" data-en="Description">Description</th>
          <th data-ar="عدد المستخدمين" data-en="Number of Users">Number of Users</th>
          <th data-ar="تعديل" data-en="Edit">Edit</th>
        </tr>
      </thead>
      <tbody id="rolesTbody">
        <tr>
          <td data-ar="موظف" data-en="Employee">Employee</td>
          <td data-ar="صلاحيات موظف أساسية" data-en="Basic employee permissions">Basic employee permissions</td>
          <td>24</td>
          <td><button class="edit-btn" onclick="showEditPanel('employee')" data-ar="تعديل" data-en="Edit">Edit</button></td>
        </tr>
        <tr>
          <td data-ar="مدير" data-en="Manager">Manager</td>
          <td data-ar="صلاحيات إدارية" data-en="Administrative permissions">Administrative permissions</td>
          <td>3</td>
          <td><button class="edit-btn" onclick="showEditPanel('manager')" data-ar="تعديل" data-en="Edit">Edit</button></td>
        </tr>
      </tbody>
    </table>

    <!-- Employee panel -->
    <div id="employee-panel" class="edit-panel">
      <div class="panel-header">
        <h3><i class="fa-solid fa-user-gear"></i> <span data-ar="تعديل صلاحيات الموظف" data-en="Edit Employee Permissions">Edit Employee Permissions</span></h3>
        <div class="role-badge" data-ar="وصول أساسي" data-en="Basic Access">Basic Access</div>
      </div>

      <div class="permission-categories">
        <!-- Group: Complaints -->
        <div class="permission-group">
          <div class="group-header">
            <h4><i class="icon fas fa-edit"></i><span data-ar="إدارة الشكاوى" data-en="Complaint Management">Complaint Management</span></h4>
          </div>
          <div class="permission-item"><input type="checkbox" id="submit_complaint"><label for="submit_complaint" data-ar="تقديم شكوى" data-en="Submit Complaint">Submit Complaint</label></div>
          <div class="permission-item"><input type="checkbox" id="follow_own_complaint" checked><label for="follow_own_complaint" data-ar="متابعة شكواه الخاصة" data-en="Follow own complaint">Follow own complaint</label></div>
          <div class="permission-item"><input type="checkbox" id="view_public_complaints" checked><label for="view_public_complaints" data-ar="مشاهدة الشكاوى العامة" data-en="View public complaints">View public complaints</label></div>
          <div class="permission-item"><input type="checkbox" id="reply_complaints" checked><label for="reply_complaints" data-ar="الرد على الشكاوى" data-en="Reply to complaints">Reply to complaints</label></div>
          <div class="permission-item"><input type="checkbox" id="change_complaint_status" checked><label for="change_complaint_status" data-ar="تغيير حالة الشكاوى" data-en="Change complaint status">Change complaint status</label></div>
        </div>

        <!-- Group: Reports & Access -->
        <div class="permission-group">
          <div class="group-header">
            <h4><i class="icon fas fa-file-export"></i><span data-ar="التقارير والوصول" data-en="Reports & Access">Reports & Access</span></h4>
          </div>
          <div class="permission-item"><input type="checkbox" id="export_reports" checked><label for="export_reports" data-ar="تصدير الملفات" data-en="Export files">Export files</label></div>
          <div class="permission-item"><input type="checkbox" id="access_dashboard" checked><label for="access_dashboard" data-ar="الوصول لصفحات الداش بورد" data-en="Access dashboards">Access dashboards</label></div>
        </div>
      </div>

      <div class="panel-actions">
        <button class="cancel-btn" onclick="hideEditPanel('employee')" data-ar="إلغاء" data-en="Cancel">Cancel</button>
        <button class="save-btn" onclick="savePermissions('employee')" data-ar="حفظ التغييرات" data-en="Save Changes">Save Changes</button>
      </div>
      <div class="success-message" id="employee-success-message" data-ar="تم حفظ التغييرات بنجاح!" data-en="Changes saved successfully!">Changes saved successfully!</div>
    </div>

    <!-- Manager panel -->
    <div id="manager-panel" class="edit-panel">
      <div class="panel-header">
        <h3><i class="fa-solid fa-user-shield"></i> <span data-ar="تعديل صلاحيات المدير" data-en="Edit Manager Permissions">Edit Manager Permissions</span></h3>
        <div class="role-badge" data-ar="وصول إداري" data-en="Admin Access">Admin Access</div>
      </div>

      <div class="permission-categories">
        <!-- Group: System -->
        <div class="permission-group">
          <div class="group-header">
            <h4><i class="icon fas fa-cogs"></i><span data-ar="إدارة النظام" data-en="System Administration">System Administration</span></h4>
          </div>
          <div class="permission-item"><input type="checkbox" id="full_system_access"><label for="full_system_access" data-ar="صلاحية النظام الكاملة" data-en="Full system access">Full system access</label></div>
          <div class="permission-item"><input type="checkbox" id="user_management"><label for="user_management" data-ar="إدارة المستخدمين" data-en="User management">User management</label></div>
          <div class="permission-item"><input type="checkbox" id="roles_management"><label for="roles_management" data-ar="إدارة الأدوار" data-en="Roles management">Roles management</label></div>
        </div>

        <!-- Group: Reports -->
        <div class="permission-group">
          <div class="group-header">
            <h4><i class="icon fas fa-chart-bar"></i><span data-ar="التقارير والتحليلات" data-en="Reports & Analytics">Reports & Analytics</span></h4>
          </div>
          <div class="permission-item"><input type="checkbox" id="performance_reports"><label for="performance_reports" data-ar="تقارير الأداء" data-en="Performance reports">Performance reports</label></div>
          <div class="permission-item"><input type="checkbox" id="export_data"><label for="export_data" data-ar="تصدير البيانات" data-en="Export data">Export data</label></div>
        </div>

        <!-- Group: Security -->
        <div class="permission-group">
          <div class="group-header">
            <h4><i class="icon fas fa-shield-alt"></i><span data-ar="الأمان والإعدادات" data-en="Security & Settings">Security & Settings</span></h4>
          </div>
          <div class="permission-item"><input type="checkbox" id="audit_logs"><label for="audit_logs" data-ar="سجلات التدقيق" data-en="Audit logs">Audit logs</label></div>
          <div class="permission-item"><input type="checkbox" id="system_config"><label for="system_config" data-ar="إعدادات النظام" data-en="System config">System config</label></div>
          <div class="permission-item"><input type="checkbox" id="backup_restore"><label for="backup_restore" data-ar="النسخ الاحتياطي والاستعادة" data-en="Backup & restore">Backup & restore</label></div>
        </div>
      </div>

      <div class="panel-actions">
        <button class="cancel-btn" onclick="hideEditPanel('manager')" data-ar="إلغاء" data-en="Cancel">Cancel</button>
        <button class="save-btn" onclick="savePermissions('manager')" data-ar="حفظ التغييرات" data-en="Save Changes">Save Changes</button>
      </div>
      <div class="success-message" id="manager-success-message" data-ar="تم حفظ التغييرات بنجاح!" data-en="Changes saved successfully!">Changes saved successfully!</div>
    </div>
  </div>

  <script src="permissions.js"></script>
</body>
</html>
