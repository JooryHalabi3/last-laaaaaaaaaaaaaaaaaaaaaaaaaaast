/* Fonts base */
:root {
    --bg: #f7f9fb;
    --card: #ffffff;
    --text: #1f2937;
    --muted: #6b7280;
    --primary: #2563eb;
    --primary-contrast: #ffffff;
    --danger: #ef4444;
    --success: #16a34a;
    --border: #e5e7eb;
    --shadow: 0 8px 24px rgba(0,0,0,0.06);
  }
  
  * { box-sizing: border-box; }
  html, body {
    margin:0; padding:0;
    font-family: 'Tajawal', 'Merriweather', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    background: var(--bg);
    color: var(--text);
  }
  
  /* Back button */
  .back-button {
    position: fixed;
    top: 18px;
    right: 18px;
    z-index: 30;
  }
  [dir="ltr"] .back-button { right: auto; left: 18px; }
  .back-button a {
    display:flex; align-items:center; gap:8px;
    background:#fff; border:1px solid var(--border);
    padding:8px 12px; border-radius:10px; text-decoration:none; color:var(--text);
    box-shadow: var(--shadow);
  }
  .back-icon { width:18px; height:18px; }
  
  /* Header */
  .header {
    background:#fff; border-bottom:1px solid var(--border); box-shadow: var(--shadow);
  }
  .header-content {
    max-width: 1200px; margin:0 auto; padding:16px 20px;
    display:flex; align-items:center; justify-content:space-between;
  }
  .header-title { font-size:28px; font-weight:700; letter-spacing:2px; }
  .header-logo { width:54px; height:54px; object-fit:contain; }
  .header-actions { display:flex; align-items:center; gap:12px; }
  .lang-toggle-btn, .end-impersonation-btn {
    display:inline-flex; align-items:center; gap:8px;
    padding:8px 12px; border-radius:10px; border:1px solid var(--border); background:#fff; cursor:pointer;
  }
  .lang-icon { width:18px; height:18px; }
  .end-impersonation-btn { border-color:#ffd1d1; background:#fff0f0; color:#b91c1c; }
  
  /* Main layout */
  .main-content { max-width: 1200px; margin:24px auto; padding:0 20px; }
  
  .page-header { margin-bottom:18px; }
  .page-title { display:flex; align-items:center; gap:10px; }
  .page-title i { font-size:22px; color: var(--primary); }
  .page-title h1 { margin:0; font-size:24px; font-weight:700; }
  .page-subtitle { color: var(--muted); }
  
  /* Stats */
  .stats-cards {
    display:grid; grid-template-columns: repeat(3, 1fr); gap:14px; margin:18px 0 8px;
  }
  .stat-card { background:var(--card); border:1px solid var(--border); border-radius:14px; padding:14px; display:flex; align-items:center; gap:14px; box-shadow: var(--shadow); }
  .stat-icon { width:46px; height:46px; border-radius:12px; display:flex; align-items:center; justify-content:center; background:#eef2ff; color:#3730a3; font-size:20px; }
  .stat-info h3 { margin:0; font-size:22px; }
  .stat-info p { margin:4px 0 0; color:var(--muted); }
  
  /* Filters */
  .filters-container { background:#fff; border:1px solid var(--border); border-radius:14px; box-shadow: var(--shadow); margin:16px 0; }
  .filters-header { display:flex; align-items:center; justify-content:space-between; padding:12px 14px; border-bottom:1px solid var(--border); }
  .filters-content { padding:14px; }
  .filter-row { display:grid; grid-template-columns: repeat(4, 1fr); gap:12px; }
  .filter-group label { display:block; margin-bottom:6px; color:#374151; font-weight:600; }
  .filter-input {
    width:100%; padding:10px 12px; border:1px solid var(--border); border-radius:10px; background:#fff;
  }
  .filter-actions { display:flex; gap:10px; margin-top:12px; }
  .apply-filter-btn, .clear-filter-btn {
    display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:10px; border:1px solid var(--border); cursor:pointer; background:#fff;
  }
  .apply-filter-btn { background: #eef2ff; border-color:#e0e7ff; color:#3730a3; }
  .clear-filter-btn { background:#fff7ed; border-color:#ffedd5; color:#9a3412; }
  
  /* Search/actions bar */
  .search-actions-bar { display:flex; align-items:center; justify-content:space-between; margin:12px 0; gap:12px; }
  .search-container { flex:1; display:flex; align-items:center; gap:8px; background:#fff; border:1px solid var(--border); padding:10px 12px; border-radius:12px; }
  .search-input { width:100%; border:none; outline:none; }
  .action-buttons { display:flex; gap:10px; }
  .action-btn {
    display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:10px; border:1px solid var(--border); background:#fff; cursor:pointer;
  }
  .primary-btn { background: var(--primary); border-color: var(--primary); color: var(--primary-contrast); }
  
  /* Table */
  .table-container { background:#fff; border:1px solid var(--border); border-radius:14px; box-shadow: var(--shadow); }
  .table-header { display:flex; align-items:center; justify-content:space-between; padding:12px 14px; border-bottom:1px solid var(--border); }
  .table-info { color: var(--muted); }
  .table-wrapper { overflow:auto; }
  .logs-table { width:100%; border-collapse: collapse; }
  .logs-table th, .logs-table td { padding:12px 10px; border-bottom:1px solid var(--border); text-align:start; }
  .logs-table thead th { background:#f8fafc; font-weight:700; color:#111827; }
  
  .users-table .actions-cell { 
    display:flex; align-items:center; gap:8px; 
    min-width: 200px; /* للتأكد من أن الأزرار لديها مساحة كافية */
  }
  .table-btn {
    border:1px solid var(--border); background:#fff; padding:8px 10px; border-radius:10px; cursor:pointer;
    display: flex; align-items: center; gap: 6px; font-size: 12px;
    transition: all 0.2s ease;
  }
  .table-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  }
  .table-btn.danger { 
    color:#b91c1c; border-color:#fecaca; background:#fff0f0; 
  }
  .table-btn.danger:hover {
    background:#fee2e2;
    border-color:#f87171;
  }
  .table-btn[title="تبديل مستخدم"] {
    color:#1d4ed8; border-color:#bfdbfe; background:#eff6ff;
  }
  .table-btn[title="تبديل مستخدم"]:hover {
    background:#dbeafe;
    border-color:#60a5fa;
  }
  .table-btn span {
    font-weight: 500;
  }
  
  .loading-row td { text-align:center; }
  .loading-spinner { display:inline-flex; align-items:center; gap:8px; color:var(--muted); }
  .empty-state td { text-align:center; }
  .empty-box { padding:40px; color:var(--muted); }
  .empty-box i { font-size:44px; opacity:.5; margin-bottom:10px; }
  
  /* Status badge */
  .status-badge {
    display:inline-block; padding:6px 10px; border-radius:999px; font-size:12px; border:1px solid var(--border);
  }
  .status-badge.active { background:#ecfdf5; color:#065f46; border-color:#a7f3d0; }
  .status-badge.inactive { background:#fef2f2; color:#991b1b; border-color:#fecaca; }
  
  /* Pagination */
  .pagination-container { display:flex; align-items:center; justify-content:space-between; margin:14px 0 26px; }
  .pagination-controls { display:flex; align-items:center; gap:8px; }
  .pagination-btn {
    display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:10px; border:1px solid var(--border); background:#fff; cursor:pointer;
  }
  .page-number {
    padding:8px 12px; border:1px solid var(--border); background:#fff; border-radius:10px; cursor:pointer;
  }
  .page-number.active { background:#eef2ff; border-color:#c7d2fe; }
  
  /* Modal */
  .modal {
    position:fixed; inset:0; background:rgba(0,0,0,.35); display:flex; align-items:center; justify-content:center; z-index:100;
  }
  .modal-content {
    width:min(720px, 92vw); background:#fff; border-radius:16px; border:1px solid var(--border); box-shadow: var(--shadow);
  }
  .modal-header {
    display:flex; align-items:center; justify-content:space-between; padding:14px 16px; border-bottom:1px solid var(--border);
  }
  .modal-body { padding:16px; }
  .modal-close { background:transparent; border:none; cursor:pointer; font-size:18px; color:#6b7280; }
  .form-grid { display:grid; grid-template-columns: repeat(2,1fr); gap:12px; }
  .form-group label { display:block; margin-bottom:6px; font-weight:600; color:#374151; }
  .form-group input, .form-group select { width:100%; padding:10px 12px; border:1px solid var(--border); border-radius:10px; }
  .modal-actions { display:flex; gap:10px; padding:12px 16px; border-top:1px solid var(--border); }
  
  /* Responsive */
  @media (max-width: 900px) {
    .filter-row { grid-template-columns: 1fr 1fr; }
    .stats-cards { grid-template-columns: 1fr 1fr 1fr; }
  }
  @media (max-width: 640px) {
    .filter-row, .stats-cards { grid-template-columns: 1fr; }
    .form-grid { grid-template-columns: 1fr; }
  }
  