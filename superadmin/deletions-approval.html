<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title data-ar="اعتماد الحذف — السوبر أدمن" data-en="Deletion Approval — Super Admin">اعتماد الحذف — السوبر أدمن</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap" rel="stylesheet">

  <!-- Page CSS -->
  <link rel="stylesheet" href="deletions-approval.css" />
</head>
<body class="lang-ar">
  <!-- Back -->
  <div class="back-button">
    <a href="#" onclick="goBack()">
      <img src="/icon/Back.png" alt="Back Icon" class="back-icon" />
      <span data-ar="عودة" data-en="Back">عودة</span>
    </a>
  </div>

  <!-- Header -->
  <header class="header">
    <div class="header-content">
      <div class="header-title" data-ar="عُــــــونَك — اعتماد الحذف" data-en="AOUNAK — Deletion Approval">عُــــــونَك — اعتماد الحذف</div>
      <img src="/icon/hospital-logo.png" alt="شعار" class="header-logo"/>
      <button id="langToggle" class="lang-toggle-btn">
        <img src="/icon/lang.png" alt="language" class="lang-icon" />
        <span id="langText">العربية | English</span>
      </button>
    </div>
  </header>

  <main class="container">
    <div class="page-head">
      <h1 class="title" data-ar="طلبات حذف بانتظار الاعتماد" data-en="Deletion Requests Awaiting Approval">طلبات حذف بانتظار الاعتماد</h1>
      <p class="subtitle" data-ar="السوبر أدمن فقط: اعتماد/رفض الحذف" data-en="Super Admin only: approve or reject deletions">السوبر أدمن فقط: اعتماد/رفض الحذف</p>
    </div>

    <!-- KPIs -->
    <div class="stats-cards">
      <div class="stat-card">
        <div class="stat-num" id="kpiWaiting">0</div>
        <div class="stat-label" data-ar="بانتظار الاعتماد" data-en="Waiting Approval">بانتظار الاعتماد</div>
      </div>
      <div class="stat-card">
        <div class="stat-num" id="kpiApprovedToday">0</div>
        <div class="stat-label" data-ar="المعتمدة اليوم" data-en="Approved Today">المعتمدة اليوم</div>
      </div>
      <div class="stat-card">
        <div class="stat-num" id="kpiRejectedToday">0</div>
        <div class="stat-label" data-ar="المرفوضة اليوم" data-en="Rejected Today">المرفوضة اليوم</div>
      </div>
    </div>

    <!-- Filters -->
    <section class="filters">
      <div class="filter-row">
        <div class="filter-group">
          <label data-ar="من" data-en="From">من</label>
          <input type="date" class="filter-input" id="dateFrom" />
        </div>
        <div class="filter-group">
          <label data-ar="إلى" data-en="To">إلى</label>
          <input type="date" class="filter-input" id="dateTo" />
        </div>
        <div class="filter-group">
          <label data-ar="الحالة" data-en="Status Filter">الحالة</label>
          <select class="filter-input" id="statusFilter">
            <option value="admin_confirmed" data-ar="مؤكدة (أدمن)" data-en="Admin Confirmed">مؤكدة (أدمن)</option>
            <option value="approved" data-ar="معتمدة" data-en="Approved">معتمدة</option>
            <option value="rejected" data-ar="مرفوضة" data-en="Rejected">مرفوضة</option>
          </select>
        </div>
        <div class="filter-group grow">
          <label data-ar="بحث" data-en="Search">بحث</label>
          <input type="text" class="filter-input" id="q" placeholder="سبب/اسم/رقم..." />
        </div>
        <div class="filter-actions">
          <button class="btn primary" id="applyFiltersBtn" data-ar="تطبيق" data-en="Apply">تطبيق</button>
          <button class="btn ghost" id="resetFiltersBtn" data-ar="مسح" data-en="Reset">مسح</button>
        </div>
      </div>
    </section>

    <!-- Table -->
    <section class="table-wrap">
      <div class="table-head">
        <h3 data-ar="بانتظار الاعتماد" data-en="Awaiting Approval">بانتظار الاعتماد</h3>
        <div class="table-actions">
          <button class="btn outline" id="bulkApproveBtn" data-ar="اعتماد المحدد" data-en="Approve Selected">اعتماد المحدد</button>
          <button class="btn outline danger" id="bulkRejectBtn" data-ar="رفض المحدد" data-en="Reject Selected">رفض المحدد</button>
        </div>
      </div>
      <div class="table-scroller">
        <table class="data-table" id="approvalTable">
          <thead>
            <tr>
              <th><input type="checkbox" id="checkAll"></th>
              <th data-ar="رقم الطلب" data-en="Request #">رقم الطلب</th>
              <th data-ar="الكيان" data-en="Entity">الكيان</th>
              <th data-ar="السجل" data-en="Record">السجل</th>
              <th data-ar="السبب" data-en="Reason">السبب</th>
              <th data-ar="طُلب بواسطة" data-en="Requested By">طُلب بواسطة</th>
              <th data-ar="تأكيد الأدمن" data-en="Admin Confirmation">تأكيد الأدمن</th>
              <th data-ar="الحالة" data-en="Status">الحالة</th>
              <th data-ar="إجراءات" data-en="Actions">إجراءات</th>
            </tr>
          </thead>
          <tbody>
            <!-- تُملأ لاحقاً عبر JS -->
            <tr class="empty-row">
              <td colspan="9" data-ar="لا توجد طلبات بانتظار الاعتماد" data-en="No requests awaiting approval">لا توجد طلبات بانتظار الاعتماد</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>
  </main>

  <!-- Snapshot Modal -->
  <div class="modal" id="snapshotModal" aria-hidden="true">
    <div class="modal-content">
      <div class="modal-header">
        <h3 data-ar="معاينة السجل" data-en="Record Snapshot">معاينة السجل</h3>
        <button class="modal-close" data-close>&times;</button>
      </div>
      <div class="modal-body">
        <pre class="snapshot-box" id="snapshotBox">{}</pre>
      </div>
      <div class="modal-footer">
        <button class="btn ghost" data-close data-ar="إغلاق" data-en="Close">إغلاق</button>
      </div>
    </div>
  </div>

  <!-- Approve / Reject Modal -->
  <div class="modal" id="decisionModal" aria-hidden="true">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="decisionTitle" data-ar="اتخاذ القرار" data-en="Make Decision">اتخاذ القرار</h3>
        <button class="modal-close" data-close>&times;</button>
      </div>
      <div class="modal-body">
        <div class="decision-box">
          <label class="form-label" for="decisionNotes" data-ar="ملاحظات (اختياري)" data-en="Notes (optional)">ملاحظات (اختياري)</label>
          <textarea id="decisionNotes" class="form-input" placeholder="سبب الرفض/ملاحظات الاعتماد"></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn ghost" data-close data-ar="إلغاء" data-en="Cancel">إلغاء</button>
        <button class="btn danger" id="rejectBtn" data-ar="رفض" data-en="Reject">رفض</button>
        <button class="btn primary" id="approveBtn" data-ar="اعتماد" data-en="Approve">اعتماد</button>
      </div>
    </div>
  </div>

  <!-- Placeholder for page JS (to be implemented later) -->
  <script src="deletions-approval.js"></script>
</body>
</html>
